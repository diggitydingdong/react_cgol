(this.webpackJsonpreact_cgol=this.webpackJsonpreact_cgol||[]).push([[0],[,,,function(n,t,e){n.exports={grid:"Grid_grid__3zS0Y",row:"Grid_row__2U9u8",cell:"Grid_cell__wmPYA",dead:"Grid_dead__28k7c",active:"Grid_active__1k5zB"}},,,function(n,t,e){n.exports={tab_group:"TabGroup_tab_group__ZUKwU",tab_item_row:"TabGroup_tab_item_row__1H0kf",content:"TabGroup_content__nnRsf"}},,function(n,t,e){n.exports={tab_item:"TabItem_tab_item__3vyYE"}},,function(n,t,e){n.exports={App:"App_App__-bWai"}},function(n,t,e){n.exports={controls:"Sidebar_controls__3VYRj"}},,,,,function(n,t,e){},,function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(9),o=e.n(c),a=(e(16),e(10)),i=e.n(a),u=e(0),s=e(4),l=function(n){var t=n.controlFunctions,e=s();return Object(u.jsxs)("div",{className:e,children:[Object(u.jsx)("button",{onClick:function(){return d(t.current.advance)},children:"Advance"}),Object(u.jsx)("button",{onClick:function(){return d(t.current.undo)},children:"Undo"}),Object(u.jsx)("button",{onClick:function(){return d(t.current.clearHistory)},children:"Clear History"}),Object(u.jsx)("button",{onClick:function(){return d(t.current.reset)},children:"Reset"}),Object(u.jsx)("button",{onClick:function(){return d(t.current.randomise)},children:"Randomise"}),Object(u.jsx)("input",{type:"checkbox"})]})};function d(n){void 0!==n&&n()}var f=e(11),b=e.n(f),j=e(2),v=e(6),h=e.n(v),p=e(5),_=e(8),O=e.n(_),m=e(4),x=function(n){var t=n.label,e=n.selected,r=n.onTabClick,c=m(O.a.tab_item,Object(p.a)({},O.a.selected,e));return Object(u.jsx)("div",{className:c,onClick:r?function(){return r()}:void 0,children:t})},g=e(4),w=function(n){var t=n.tabs,e=Object(r.useState)(0),c=Object(j.a)(e,2),o=c[0],a=c[1];g();return Object(u.jsxs)("div",{className:h.a.tab_group,children:[Object(u.jsx)("div",{className:h.a.tab_item_row,children:t.map((function(n,t){return Object(u.jsx)(x,{label:n.label,selected:o===t,onTabClick:function(){return a(t)}},t)}))}),Object(u.jsx)("div",{className:h.a.content,children:t[o].content})]})},k=e(4),y=function(n){var t=n.controlFunctions,e=k(b.a.controls),r=[{label:"Controls",content:Object(u.jsx)(l,{controlFunctions:t})},{label:"Structures",content:Object(u.jsx)(u.Fragment,{children:"YO"})}];return Object(u.jsx)("div",{className:e,children:Object(u.jsx)(w,{tabs:r})})},C=function(n,t,e){return t<0||e<0||t>=n.length||e>=n[t].length},N=function(n){for(var t,e,r=[],c=function(n){for(var t=[],e=0;e<n.length;e++){t.push([]);for(var r=0;r<n[e].length;r++)t[e].push(0)}for(var c=0;c<n.length;c++)for(var o=0;o<n[c].length;o++)if("dead"!==n[c][o])for(var a=0;a<9;a++){var i=c+Math.floor(a/3)-1,u=o+a%3-1;4===a||C(n,i,u)||t[i][u]++}return t}(n),o=0;o<n.length;o++){r.push([]);for(var a=0;a<n[o].length;a++){var i=(t=n[o][a],e=c[o][a],("dead"===t?3===e:2===e||3===e)?"alive":"dead");r[o].push(i)}}return r},G=e(3),M=e.n(G),F=e(4),S=function(n){var t=n.controlFunctions,e=Object(r.useState)(A()),c=Object(j.a)(e,2),o=c[0],a=(c[1],Object(r.useState)(H(o))),i=Object(j.a)(a,2),s=i[0],l=i[1],d=Object(r.useState)(null),f=Object(j.a)(d,2),b=f[0],v=f[1],h=Object(r.useRef)([]),_=function(n){h.current.length>=100&&h.current.pop(),h.current.push(n)},O=function(n){0!==n.length&&l((function(t){var e=T(t);return n.forEach((function(n){e[n.row][n.col]=n.type})),e}))},m=function(n){_(s),l(n)},x=function(){_(s),l((function(n){return N(n)}))},g=function(){v(null)};t.current.advance=x,t.current.undo=function(){var n=h.current.pop();n&&l(n)},t.current.clearHistory=function(){h.current=[]},t.current.randomise=function(){m(R(o))},t.current.reset=function(){m(H(o))};var w=function(n){" "===n.key&&x()};return Object(r.useEffect)((function(){document.addEventListener("keydown",w)}),[]),Object(u.jsx)("div",{className:M.a.grid,children:s.map((function(n,t){return Object(u.jsx)("div",{className:M.a.row,children:n.map((function(n,e){var r,c=F(M.a.cell,(r={},Object(p.a)(r,M.a.active,"alive"===n),Object(p.a)(r,M.a.dead,"dead"===n),r));return Object(u.jsx)("div",{className:c,onMouseDown:function(n){return function(n,t,e){h.current.push(s);var r="alive"===s[t][e]?"dead":"alive";v(r),O([{type:r,row:t,col:e}])}(0,t,e)},onMouseUp:function(n){g()},onMouseMove:function(n){return function(n,t,e){null!==b&&b!==s[t][e]&&(0!==n.buttons?O([{type:b,row:t,col:e}]):g())}(n,t,e)}},"".concat(t," ").concat(e))}))},t)}))})},A=function(){var n=window,t=n.innerWidth,e=n.innerHeight;return{width:Math.floor((t-40)/22*.6),height:Math.floor((e-40)/22)}},H=function(n){for(var t=[],e=0;e<n.height;e++){t.push([]);for(var r=0;r<n.width;r++)t[e].push("dead")}return t},R=function(n){for(var t=[],e=0;e<n.height;e++){t.push([]);for(var r=0;r<n.width;r++)t[e].push(Math.random()<.5?"alive":"dead")}return t},T=function(n){return n.map((function(n){return n.slice()}))};var E=function(){var n=Object(r.useRef)({advance:void 0,undo:void 0,clearHistory:void 0,randomise:void 0,reset:void 0});return Object(u.jsxs)("div",{className:i.a.App,children:[Object(u.jsx)(S,{controlFunctions:n}),Object(u.jsx)(y,{controlFunctions:n})]})};o.a.render(Object(u.jsx)(E,{}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.0db52df6.chunk.js.map