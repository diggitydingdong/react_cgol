(this.webpackJsonpreact_cgol=this.webpackJsonpreact_cgol||[]).push([[0],[,,,function(t,n,e){t.exports={grid:"Grid_grid__3zS0Y",row:"Grid_row__2U9u8",cell:"Grid_cell__wmPYA",dead:"Grid_dead__28k7c",active:"Grid_active__1k5zB",hover:"Grid_hover__F_qrp"}},,,function(t,n,e){t.exports={tab_group:"TabGroup_tab_group__ZUKwU",tab_item_row:"TabGroup_tab_item_row__1H0kf",content:"TabGroup_content__nnRsf"}},,function(t,n,e){t.exports={structure_list:"StructureList_structure_list__113Sv",structure:"StructureList_structure__1uui2"}},function(t,n,e){t.exports={tab_item:"TabItem_tab_item__3vyYE"}},,function(t,n,e){t.exports={App:"App_App__-bWai"}},function(t,n,e){t.exports={controls:"Sidebar_controls__3VYRj"}},,,,,function(t,n,e){},,function(t,n,e){"use strict";e.r(n);var r=e(1),c=e(10),o=e.n(c),u=(e(17),e(11)),a=e.n(u),i=e(0),l=e(4),s=function(t){var n=t.controlFunctions,e=l();return Object(i.jsxs)("div",{className:e,children:[Object(i.jsx)("button",{onClick:function(){return d(n.current.advance)},children:"Advance"}),Object(i.jsx)("button",{onClick:function(){return d(n.current.undo)},children:"Undo"}),Object(i.jsx)("button",{onClick:function(){return d(n.current.clearHistory)},children:"Clear History"}),Object(i.jsx)("button",{onClick:function(){return d(n.current.reset)},children:"Reset"}),Object(i.jsx)("button",{onClick:function(){return d(n.current.randomise)},children:"Randomise"}),Object(i.jsx)("input",{type:"checkbox",onChange:function(t){n.current.doWrap=t.target.checked}})]})};function d(t){void 0!==t&&t()}var f=e(12),b=e.n(f),j=e(8),h=e.n(j),v=e(4),_=function(t){var n=t.structures,e=t.controlFunctions,r=v(h.a.structure_list);return Object(i.jsx)("div",{className:r,children:n.map((function(t,n){return Object(i.jsx)("div",{className:h.a.structure,onClick:function(){return e.current.loadStructure?e.current.loadStructure(t.cells):null},children:t.name},n)}))})},p=e(2),O=e(6),m=e.n(O),g=e(5),x=e(9),w=e.n(x),k=e(4),S=function(t){var n=t.label,e=t.selected,r=t.onTabClick,c=k(w.a.tab_item,Object(g.a)({},w.a.selected,e));return Object(i.jsx)("div",{className:c,onClick:r?function(){return r()}:void 0,children:n})},G=e(4),y=function(t){var n=t.tabs,e=Object(r.useState)(0),c=Object(p.a)(e,2),o=c[0],u=c[1];G();return Object(i.jsxs)("div",{className:m.a.tab_group,children:[Object(i.jsx)("div",{className:m.a.tab_item_row,children:n.map((function(t,n){return Object(i.jsx)(S,{label:t.label,selected:o===n,onTabClick:function(){return u(n)}},n)}))}),Object(i.jsx)("div",{className:m.a.content,children:n[o].content})]})},C=function(t){for(var n=[],e=0;e<t.length;e++)for(var r=0;r<t[e].length;r++)1===t[e][r]&&n.push({row:e,col:r});return n},N=[{name:"Glider",cells:C([[0,0,1],[1,0,1],[0,1,1]])},{name:"Gosper Glider Gun",cells:C([[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]])}],F=e(4),M=function(t){var n=t.controlFunctions,e=F(b.a.controls),r=[{label:"Controls",content:Object(i.jsx)(s,{controlFunctions:n})},{label:"Structures",content:Object(i.jsx)(_,{structures:N,controlFunctions:n})}];return Object(i.jsx)("div",{className:e,children:Object(i.jsx)(y,{tabs:r})})},A=function(t,n,e){return n<0||e<0||n>=t.length||e>=t[n].length},R=function(t,n){for(var e,r,c=[],o=function(t,n){for(var e=[],r=0;r<t.length;r++){e.push([]);for(var c=0;c<t[r].length;c++)e[r].push(0)}for(var o=0;o<t.length;o++)for(var u=0;u<t[o].length;u++)if("dead"!==t[o][u])for(var a=0;a<9;a++){var i=o+Math.floor(a/3)-1,l=u+a%3-1;n&&(i=(i+t.length)%t.length,l=(l+t[o].length)%t[o].length),4===a||A(t,i,l)||e[i][l]++}return e}(t,n),u=0;u<t.length;u++){c.push([]);for(var a=0;a<t[u].length;a++){var i=(e=t[u][a],r=o[u][a],("dead"===e?3===r:2===r||3===r)?"alive":"dead");c[u].push(i)}}return c},T=e(3),E=e.n(T),H=e(4),U=function(t){var n=t.controlFunctions,e=Object(r.useState)(W()),c=Object(p.a)(e,2),o=c[0],u=(c[1],Object(r.useState)(Y(o))),a=Object(p.a)(u,2),l=a[0],s=a[1],d=Object(r.useState)(null),f=Object(p.a)(d,2),b=f[0],j=f[1],h=Object(r.useState)(null),v=Object(p.a)(h,2),_=v[0],O=v[1],m=Object(r.useState)(null),x=Object(p.a)(m,2),w=x[0],k=x[1],S=Object(r.useRef)([]),G=function(t){S.current.length>=100&&S.current.pop(),S.current.push(t)},y=function(t){0!==t.length&&s((function(n){var e=z(n);return t.forEach((function(t){e[t.row][t.col]=t.type})),e}))},C=function(t){G(l),s(t)},N=function(){s((function(t){return G(t),R(t,n.current.doWrap)}))},F=function(){j(null)};n.current.advance=N,n.current.undo=function(){var t=S.current.pop();console.log(t),t&&s(t)},n.current.clearHistory=function(){S.current=[]},n.current.randomise=function(){C(L(o))},n.current.reset=function(){C(Y(o))},n.current.loadStructure=function(t){O(t),F()};var M=function(t,n,e){if(S.current.push(l),console.log(n),null===_){var r="alive"===l[n][e]?"dead":"alive";j(r),y([{type:r,row:n,col:e}])}else!function(t,n){_&&(y(_.map((function(e){return{row:e.row+t,col:e.col+n,type:"alive"}}))),O(null))}(n,e)},A=function(t){" "===t.key&&(t.preventDefault(),N())};return Object(r.useEffect)((function(){document.addEventListener("keydown",A)}),[]),Object(i.jsx)("div",{className:E.a.grid,children:l.map((function(t,n){return Object(i.jsx)("div",{className:E.a.row,children:t.map((function(t,e){var r,c=null!==_&&null!==w&&(null===_||void 0===_?void 0:_.some((function(t){return t.row===n-w.row&&t.col===e-w.col}))),o=H(E.a.cell,(r={},Object(g.a)(r,E.a.active,"alive"===t),Object(g.a)(r,E.a.dead,"dead"===t&&!c),Object(g.a)(r,E.a.hover,"dead"===t&&c),r));return Object(i.jsx)("div",{className:o,onMouseDown:function(t){return M(0,n,e)},onMouseUp:function(t){F()},onMouseMove:function(t){return function(t,n,e){null!==w&&w.row===n&&w.col===e||null===_||k({row:n,col:e}),null!==b&&b!==l[n][e]&&(0!==t.buttons?y([{type:b,row:n,col:e}]):F())}(t,n,e)}},"".concat(n," ").concat(e))}))},n)}))})},W=function(){var t=window,n=t.innerWidth,e=t.innerHeight;return{width:Math.floor((n-40)/22*.6),height:Math.floor((e-40)/22)}},Y=function(t){for(var n=[],e=0;e<t.height;e++){n.push([]);for(var r=0;r<t.width;r++)n[e].push("dead")}return n},L=function(t){for(var n=[],e=0;e<t.height;e++){n.push([]);for(var r=0;r<t.width;r++)n[e].push(Math.random()<.5?"alive":"dead")}return n},z=function(t){return t.map((function(t){return t.slice()}))};var B=function(){var t=Object(r.useRef)({doWrap:!1});return Object(i.jsxs)("div",{className:a.a.App,children:[Object(i.jsx)(U,{controlFunctions:t}),Object(i.jsx)(M,{controlFunctions:t})]})};o.a.render(Object(i.jsx)(B,{}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.b9f13b49.chunk.js.map