(this.webpackJsonpreact_cgol=this.webpackJsonpreact_cgol||[]).push([[0],[,,,function(n,t,e){n.exports={grid:"Grid_grid__3zS0Y",row:"Grid_row__2U9u8",cell:"Grid_cell__wmPYA",dead:"Grid_dead__28k7c",active:"Grid_active__1k5zB"}},,,function(n,t,e){n.exports={tab_group:"TabGroup_tab_group__ZUKwU",tab_item_row:"TabGroup_tab_item_row__1H0kf",content:"TabGroup_content__nnRsf"}},,function(n,t,e){n.exports={tab_item:"TabItem_tab_item__3vyYE"}},,function(n,t,e){n.exports={App:"App_App__-bWai"}},function(n,t,e){n.exports={controls:"Sidebar_controls__3VYRj"}},,,,,function(n,t,e){},,function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(9),o=e.n(c),u=(e(16),e(10)),a=e.n(u),i=e(0),s=e(4),l=function(n){var t=n.controlFunctions,e=s();return Object(i.jsxs)("div",{className:e,children:[Object(i.jsx)("button",{onClick:function(){return d(t.current.advance)},children:"Advance"}),Object(i.jsx)("button",{onClick:function(){return d(t.current.undo)},children:"Undo"}),Object(i.jsx)("button",{onClick:function(){return d(t.current.clearHistory)},children:"Clear History"}),Object(i.jsx)("button",{onClick:function(){return d(t.current.reset)},children:"Reset"}),Object(i.jsx)("button",{onClick:function(){return d(t.current.randomise)},children:"Randomise"}),Object(i.jsx)("input",{type:"checkbox",onChange:function(n){t.current.doWrap=n.target.checked}})]})};function d(n){void 0!==n&&n()}var f=e(11),b=e.n(f),h=e(2),j=e(6),v=e.n(j),p=e(5),_=e(8),O=e.n(_),g=e(4),m=function(n){var t=n.label,e=n.selected,r=n.onTabClick,c=g(O.a.tab_item,Object(p.a)({},O.a.selected,e));return Object(i.jsx)("div",{className:c,onClick:r?function(){return r()}:void 0,children:t})},x=e(4),w=function(n){var t=n.tabs,e=Object(r.useState)(0),c=Object(h.a)(e,2),o=c[0],u=c[1];x();return Object(i.jsxs)("div",{className:v.a.tab_group,children:[Object(i.jsx)("div",{className:v.a.tab_item_row,children:t.map((function(n,t){return Object(i.jsx)(m,{label:n.label,selected:o===t,onTabClick:function(){return u(t)}},t)}))}),Object(i.jsx)("div",{className:v.a.content,children:t[o].content})]})},k=e(4),y=function(n){var t=n.controlFunctions,e=k(b.a.controls),r=[{label:"Controls",content:Object(i.jsx)(l,{controlFunctions:t})},{label:"Structures",content:Object(i.jsx)(i.Fragment,{children:"YO"})}];return Object(i.jsx)("div",{className:e,children:Object(i.jsx)(w,{tabs:r})})},C=function(n,t,e){return t<0||e<0||t>=n.length||e>=n[t].length},N=function(n,t){for(var e,r,c=[],o=function(n,t){for(var e=[],r=0;r<n.length;r++){e.push([]);for(var c=0;c<n[r].length;c++)e[r].push(0)}for(var o=0;o<n.length;o++)for(var u=0;u<n[o].length;u++)if("dead"!==n[o][u])for(var a=0;a<9;a++){var i=o+Math.floor(a/3)-1,s=u+a%3-1;t&&(i=(i+n.length)%n.length,s=(s+n[o].length)%n[o].length),4===a||C(n,i,s)||e[i][s]++}return e}(n,t),u=0;u<n.length;u++){c.push([]);for(var a=0;a<n[u].length;a++){var i=(e=n[u][a],r=o[u][a],("dead"===e?3===r:2===r||3===r)?"alive":"dead");c[u].push(i)}}return c},G=e(3),M=e.n(G),F=e(4),S=function(n){var t=n.controlFunctions,e=Object(r.useState)(A()),c=Object(h.a)(e,2),o=c[0],u=(c[1],Object(r.useState)(R(o))),a=Object(h.a)(u,2),s=a[0],l=a[1],d=Object(r.useState)(null),f=Object(h.a)(d,2),b=f[0],j=f[1],v=Object(r.useRef)([]),_=function(n){v.current.length>=100&&v.current.pop(),v.current.push(n)},O=function(n){0!==n.length&&l((function(t){var e=E(t);return n.forEach((function(n){e[n.row][n.col]=n.type})),e}))},g=function(n){_(s),l(n)},m=function(){l((function(n){return _(n),N(n,t.current.doWrap)}))},x=function(){j(null)};t.current.advance=m,t.current.undo=function(){var n=v.current.pop();console.log(n),n&&l(n)},t.current.clearHistory=function(){v.current=[]},t.current.randomise=function(){g(T(o))},t.current.reset=function(){g(R(o))};var w=function(n){" "===n.key&&(n.preventDefault(),m())};return Object(r.useEffect)((function(){document.addEventListener("keydown",w)}),[]),Object(i.jsx)("div",{className:M.a.grid,children:s.map((function(n,t){return Object(i.jsx)("div",{className:M.a.row,children:n.map((function(n,e){var r,c=F(M.a.cell,(r={},Object(p.a)(r,M.a.active,"alive"===n),Object(p.a)(r,M.a.dead,"dead"===n),r));return Object(i.jsx)("div",{className:c,onMouseDown:function(n){return function(n,t,e){v.current.push(s);var r="alive"===s[t][e]?"dead":"alive";j(r),O([{type:r,row:t,col:e}])}(0,t,e)},onMouseUp:function(n){x()},onMouseMove:function(n){return function(n,t,e){null!==b&&b!==s[t][e]&&(0!==n.buttons?O([{type:b,row:t,col:e}]):x())}(n,t,e)}},"".concat(t," ").concat(e))}))},t)}))})},A=function(){var n=window,t=n.innerWidth,e=n.innerHeight;return{width:Math.floor((t-40)/22*.6),height:Math.floor((e-40)/22)}},R=function(n){for(var t=[],e=0;e<n.height;e++){t.push([]);for(var r=0;r<n.width;r++)t[e].push("dead")}return t},T=function(n){for(var t=[],e=0;e<n.height;e++){t.push([]);for(var r=0;r<n.width;r++)t[e].push(Math.random()<.5?"alive":"dead")}return t},E=function(n){return n.map((function(n){return n.slice()}))};var H=function(){var n=Object(r.useRef)({doWrap:!1});return Object(i.jsxs)("div",{className:a.a.App,children:[Object(i.jsx)(S,{controlFunctions:n}),Object(i.jsx)(y,{controlFunctions:n})]})};o.a.render(Object(i.jsx)(H,{}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.a4b2fcfe.chunk.js.map